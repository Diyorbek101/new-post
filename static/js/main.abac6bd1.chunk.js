(this["webpackJsonpnew-post"]=this["webpackJsonpnew-post"]||[]).push([[1],{100:function(e,t,n){"use strict";var r=n(8),a=n.n(r),o=n(17),i=n(12),c=n(18);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=function(e,t,n){return e.users.map((function(e){return e.id===t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{followed:n}):e}))};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return h}));var f={users:[],isLoader:!1,pageSize:100,totalUsersCount:0,currentPage:1},d=function(e){return{type:"IS_LOADER",isLoad:e}},m=function(e){return{type:"FOLLOW",id:e}},b=function(e){return{type:"UN_FOLLOW",id:e}},O=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.follow(e);case 2:0===t.sent.data.resultCode&&n(m(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.UnFollow(e);case 2:0===t.sent.data.resultCode&&n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(d(!0)),r({type:"CURRENT_PAGE",page:e}),n.next=4,c.c.users(e,t);case 4:o=n.sent,r(d(!1)),r({type:"SET_TOTAL_USERS_COUNT",total:o.totalCount}),r({type:"USERS",user:o.items});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS":return p({},e,{users:t.user});case"IS_LOADER":return p({},e,{isLoader:t.isLoad});case"SET_TOTAL_USERS_COUNT":return p({},e,{totalUsersCount:t.total});case"CURRENT_PAGE":return p({},e,{currentPage:t.page});case"FOLLOW":return p({},e,{users:s(e,t,!0)});case"UN_FOLLOW":return p({},e,{users:s(e,t,!1)});default:return e}}},168:function(e,t,n){e.exports=n(258)},173:function(e,t,n){},174:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(103),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"a57353aa-096d-4408-9b17-7f7595fb4013"}}),o={users:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},UnFollow:function(e){return a.delete("follow/".concat(e))}},i={authRequest:function(){return a.get("auth/me")},authLoginDelete:function(){return a.delete("auth/login")},authLoginPost:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},SecurityCaptcha:function(){return a.get("security/get-captcha-url")}},c={profile:function(e){return a.get("profile/"+e)},profilePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)},ProfileStatus:function(e){return a.get("profile/status/".concat(e))}}},257:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),c=(n(173),n(12)),u=n(98),s=(n(174),n(52)),l=n(34),p=n(49),f=n(23),d=n(102),m=n(99),b=n(37),O=n(91),g=n(100);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={initialized:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return y({},e,{initialized:!0});default:return e}},j=Object(f.c)({auth:b.d,form:m.a,usersData:g.d,appReducer:v,ProfileRedcer:O.f}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,P=Object(f.e)(j,E(Object(f.a)(d.a))),S=n(44),_=n.n(S),D=n(289),x=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:_.a.header},e.isAuth?a.a.createElement("span",{className:_.a.login}," ",a.a.createElement("img",{className:_.a.logo,src:"https://img.icons8.com/small/16/000000/administrator-male.png",alt:"logo"})," ",e.myGiven.login," ",a.a.createElement("button",{onClick:function(){e.LoginDelete()}},"Exite")):a.a.createElement(D.a,{className:_.a.loginSet,variant:"contained",color:"primary"},a.a.createElement(s.b,{to:"./Login"},"Login"))))},L=Object(f.d)(Object(p.b)((function(e){return{myGiven:e.auth,isAuth:e.auth.isAuth}}),{RequestinApi:b.b,LoginDelete:b.a}))((function(e){return Object(r.useEffect)((function(){e.RequestinApi()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(x,e))})),k=n(70),A=n(4),C=n(41),R=n(300),T=n(295),I=n(296),N=n(299),U=n(294),z=n(62),F=n(298),G=n(297),B=n(108),H=n.n(B),W=n(110),q=n.n(W),M=n(109),J=n.n(M),K=n(301),V=n(292),X=n(293),Z=n(111),Q=n.n(Z),Y=n(112),$=n.n(Y),ee=n(113),te=n.n(ee),ne=n(114),re=n.n(ne),ae=n(107);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=Object(ae.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(c.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:ie({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),ue=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,372))})),se=a.a.lazy((function(){return n.e(6).then(n.bind(null,373))})),le=a.a.lazy((function(){return n.e(7).then(n.bind(null,374))})),pe=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,371))}));var fe=Object(f.d)(l.f,Object(p.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(b.b)());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))((function(e){var t,n,o=ce(),i=Object(C.a)(),p=Object(r.useState)(!1),f=Object(u.a)(p,2),d=f[0],m=f[1];if(Object(r.useEffect)((function(){e.initializeApp()}),[]),!e.initialized)return a.a.createElement(k.a,null);var b=function(e){return a.a.createElement(s.b,{className:"links",to:e.path},a.a.createElement(K.a,{button:!0},a.a.createElement(V.a,null,a.a.createElement(e.icon,null)),a.a.createElement(X.a,null,e.name)))},O=function(e){return function(t){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(k.a,null)},a.a.createElement(e,t))}};return a.a.createElement("div",{className:o.root},a.a.createElement(U.a,null),a.a.createElement(T.a,{position:"fixed",className:Object(A.a)(o.appBar,Object(c.a)({},o.appBarShift,d))},a.a.createElement(I.a,null,a.a.createElement(G.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(A.a)(o.menuButton,Object(c.a)({},o.hide,d))},a.a.createElement(H.a,null)),a.a.createElement(z.a,{variant:"h6",noWrap:!0},a.a.createElement(L,null)))),a.a.createElement(R.a,{variant:"permanent",className:Object(A.a)(o.drawer,(t={},Object(c.a)(t,o.drawerOpen,d),Object(c.a)(t,o.drawerClose,!d),t)),classes:{paper:Object(A.a)((n={},Object(c.a)(n,o.drawerOpen,d),Object(c.a)(n,o.drawerClose,!d),n))}},a.a.createElement("div",{className:o.toolbar},a.a.createElement(G.a,{onClick:function(){m(!1)}},"rtl"===i.direction?a.a.createElement(J.a,null):a.a.createElement(q.a,null))),a.a.createElement(F.a,null),a.a.createElement(N.a,null,a.a.createElement(b,{icon:Q.a,name:"Profile",path:"/profile"}),a.a.createElement(b,{icon:$.a,name:"Settings",path:"/settings"}),a.a.createElement(b,{icon:te.a,name:"Music",path:"/music"}),a.a.createElement(b,{icon:re.a,name:"Users",path:"/users"})),a.a.createElement(F.a,null)),a.a.createElement("main",{className:o.content},a.a.createElement("div",{className:o.toolbar}),a.a.createElement(z.a,{paragraph:!0},a.a.createElement(l.b,{path:"/",render:function(){return a.a.createElement(l.a,{from:"/",to:"/profile"})}}),a.a.createElement(l.b,{path:"/profile/:userId?",render:O(ue)}),a.a.createElement(l.b,{path:"/users",render:O(se)}),a.a.createElement(l.b,{path:"/settings",render:O(le)}),a.a.createElement(l.b,{exact:!0,path:"/login",render:function(){return a.a.createElement(pe,null)}}))))})),de=function(){return a.a.createElement(s.a,{basename:"/new-post"},a.a.createElement(p.a,{store:P},a.a.createElement(fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n(8),a=n.n(r),o=n(17),i=n(12),c=n(18),u=n(53);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={id:null,email:null,login:null,isAuth:!1,captcha:null},f=function(e,t,n,r){return{type:"DATA",payload:{id:e,email:t,login:n,isAuth:r}}},d=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.authRequest();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,o=r.id,i=r.email,u=r.login,t(f(o,i,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e,t,n,r){return function(){var i=Object(o.a)(a.a.mark((function i(s){var l,p;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.b.authLoginPost(e,t,n,r);case 2:0===(l=i.sent).data.resultCode?s(d()):(10===l.data.resultCode&&s(function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.SecurityCaptcha();case 2:(n=e.sent)&&t({type:"CAPTCHA_URL",payload:{captcha:n.data.url}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=l.data.messages.length>0?l.data.messages[0]:"some Errors",s(Object(u.a)("SignIn",{_error:p})));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},b=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.authLoginDelete();case 2:0===e.sent.data.resultCode&&t(f(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA":case"CAPTCHA_URL":return l({},e,{},t.payload);default:return e}}},44:function(e,t,n){e.exports={header:"Header_header__3AGDK",login:"Header_login__2mI6j",logo:"Header_logo__28yZv",loginSet:"Header_loginSet__1ESQJ"}},70:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(257);t.a=function(){return a.a.createElement("img",{className:"loader",src:"https://i.pinimg.com/originals/76/77/ed/7677edd5a44b10130b8824ca020ba60b.gif",alt:"loader"})}},91:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return y}));var r=n(8),a=n.n(r),o=n(17),i=n(115),c=n(12),u=n(18),s=n(53);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={postGet:"",profile:null,isLoader:!1,status:"",post:[{id:1,img:"https://png.pngtree.com/element_our/20190604/ourmid/pngtree-user-avatar-boy-image_1482937.jpg",text:"hello world",like:1},{id:2,img:"https://i.pinimg.com/originals/ed/61/8c/ed618c92a295b74449839ab5f6f947ee.jpg",text:"test",like:155},{id:3,img:"https://img.favpng.com/2/12/12/computer-icons-portable-network-graphics-user-profile-avatar-png-favpng-L1ihcbxsHbnBKBvjjfBMFGbb7.jpg",text:"TypeScript",like:121}]},d=function(e){return{type:"ADD_POS",postGet:e}},m=function(e){return{type:"PROFILE_PHOTO_SAVE",photProfile:e}},b=function(e){return{type:"IS_LOADER",isLoad:e}},O=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.profile(e);case 2:r=t.sent,n({type:"PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!1)),t.next=3,u.a.profilePhoto(e);case 3:0===(r=t.sent).data.resultCode&&(n(b(!0)),n(m(r.data.data.photos)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n,r){var o,i,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r().auth.id,t.next=3,u.a.saveProfile(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}n(O(o)),t.next=11;break;case 8:return c=i.data.messages.length>0?i.data.messages[0]:"some error",n(Object(s.a)("fromData",{_error:c})),t.abrupt("return",Promise.reject(c));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.ProfileStatus(e);case 2:r=t.sent,n({type:"STATUS_GET",status:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POS":var n={id:4,img:"https://i.pinimg.com/originals/ed/61/8c/ed618c92a295b74449839ab5f6f947ee.jpg",text:t.postGet,like:0};return p({},e,{post:[n].concat(Object(i.a)(e.post))});case"PROFILE":return p({},e,{profile:t.profile});case"IS_LOADER":return p({},e,{isLoader:t.isLoad});case"PROFILE_PHOTO_SAVE":return p({},e,{profile:p({},e.profile,{photos:t.photProfile})});case"STATUS_GET":return p({},e,{status:t.status});default:return e}}}},[[168,2,3]]]);
//# sourceMappingURL=main.abac6bd1.chunk.js.map